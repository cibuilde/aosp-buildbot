
name: AOSP Build
on:
  push:
    branches:
    - main
env:
  branch: 'android-12.0.0_r1'
jobs:
  build_step13:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@main
    - uses: actions/setup-python@v4
      with:
        python-version: "2.7"
    - name: Download get_clang_version.py
      run: |
        curl 'https://android.googlesource.com/platform/build/soong/+/refs/heads/master/scripts/get_clang_version.py?format=TEXT' | base64 -d > $GITHUB_WORKSPACE/get_clang_version.py
        mkdir -p aosp

    - name: Restore Cache build/make
      id: build_make
      uses: actions/cache@v3
      with:
        path: aosp/build/make
        key: build_make@${{ env.branch }}
        restore-keys: build_make@${{ env.branch }}
    - name: Clone project build/make
      if: steps.build_make.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform build
        mv build make && mkdir build && mv make build/
        sed -i 's/^PRODUCT_EXTRA_VNDK_VERSIONS/#PRODUCT_EXTRA_VNDK_VERSIONS/g' build/make/target/product/gsi_release.mk

    - name: Restore Cache art
      id: art
      uses: actions/cache@v3
      with:
        path: aosp/art
        key: art@${{ env.branch }}
        restore-keys: art@${{ env.branch }}
    - name: Clone project art
      if: steps.art.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform art

    - name: Restore Cache bionic
      id: bionic
      uses: actions/cache@v3
      with:
        path: aosp/bionic
        key: bionic@${{ env.branch }}
        restore-keys: bionic@${{ env.branch }}
    - name: Clone project bionic
      if: steps.bionic.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform bionic

    - name: Restore Cache build/blueprint
      id: build_blueprint
      uses: actions/cache@v3
      with:
        path: aosp/build/blueprint
        key: build_blueprint@${{ env.branch }}
        restore-keys: build_blueprint@${{ env.branch }}
    - name: Clone project build/blueprint
      if: steps.build_blueprint.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform build/blueprint

    - name: Restore Cache build/soong
      id: build_soong
      uses: actions/cache@v3
      with:
        path: aosp/build/soong
        key: build_soong@${{ env.branch }}
        restore-keys: build_soong@${{ env.branch }}
    - name: Clone project build/soong
      if: steps.build_soong.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform build/soong

    - name: Restore Cache device/generic/vulkan-cereal
      id: device_generic_vulkan-cereal
      uses: actions/cache@v3
      with:
        path: aosp/device/generic/vulkan-cereal
        key: device_generic_vulkan-cereal@${{ env.branch }}
        restore-keys: device_generic_vulkan-cereal@${{ env.branch }}
    - name: Clone project device/generic/vulkan-cereal
      if: steps.device_generic_vulkan-cereal.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth device/generic/vulkan-cereal

    - name: Restore Cache external/crosvm
      id: external_crosvm
      uses: actions/cache@v3
      with:
        path: aosp/external/crosvm
        key: external_crosvm@${{ env.branch }}
        restore-keys: external_crosvm@${{ env.branch }}
    - name: Clone project external/crosvm
      if: steps.external_crosvm.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/crosvm

    - name: Restore Cache external/dynamic_depth
      id: external_dynamic_depth
      uses: actions/cache@v3
      with:
        path: aosp/external/dynamic_depth
        key: external_dynamic_depth@${{ env.branch }}
        restore-keys: external_dynamic_depth@${{ env.branch }}
    - name: Clone project external/dynamic_depth
      if: steps.external_dynamic_depth.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/dynamic_depth

    - name: Restore Cache external/flac
      id: external_flac
      uses: actions/cache@v3
      with:
        path: aosp/external/flac
        key: external_flac@${{ env.branch }}
        restore-keys: external_flac@${{ env.branch }}
    - name: Clone project external/flac
      if: steps.external_flac.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/flac

    - name: Restore Cache external/golang-protobuf
      id: external_golang-protobuf
      uses: actions/cache@v3
      with:
        path: aosp/external/golang-protobuf
        key: external_golang-protobuf@${{ env.branch }}
        restore-keys: external_golang-protobuf@${{ env.branch }}
    - name: Clone project external/golang-protobuf
      if: steps.external_golang-protobuf.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/golang-protobuf

    - name: Restore Cache external/googletest
      id: external_googletest
      uses: actions/cache@v3
      with:
        path: aosp/external/googletest
        key: external_googletest@${{ env.branch }}
        restore-keys: external_googletest@${{ env.branch }}
    - name: Clone project external/googletest
      if: steps.external_googletest.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/googletest

    - name: Restore Cache external/gwp_asan
      id: external_gwp_asan
      uses: actions/cache@v3
      with:
        path: aosp/external/gwp_asan
        key: external_gwp_asan@${{ env.branch }}
        restore-keys: external_gwp_asan@${{ env.branch }}
    - name: Clone project external/gwp_asan
      if: steps.external_gwp_asan.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/gwp_asan

    - name: Restore Cache external/icu
      id: external_icu
      uses: actions/cache@v3
      with:
        path: aosp/external/icu
        key: external_icu@${{ env.branch }}
        restore-keys: external_icu@${{ env.branch }}
    - name: Clone project external/icu
      if: steps.external_icu.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse_exclude external/icu !/icu4c/source/test

    - name: Restore Cache external/image_io
      id: external_image_io
      uses: actions/cache@v3
      with:
        path: aosp/external/image_io
        key: external_image_io@${{ env.branch }}
        restore-keys: external_image_io@${{ env.branch }}
    - name: Clone project external/image_io
      if: steps.external_image_io.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/image_io

    - name: Restore Cache external/libdrm
      id: external_libdrm
      uses: actions/cache@v3
      with:
        path: aosp/external/libdrm
        key: external_libdrm@${{ env.branch }}
        restore-keys: external_libdrm@${{ env.branch }}
    - name: Clone project external/libdrm
      if: steps.external_libdrm.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/libdrm

    - name: Restore Cache external/libvpx
      id: external_libvpx
      uses: actions/cache@v3
      with:
        path: aosp/external/libvpx
        key: external_libvpx@${{ env.branch }}
        restore-keys: external_libvpx@${{ env.branch }}
    - name: Clone project external/libvpx
      if: steps.external_libvpx.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/libvpx

    - name: Restore Cache external/protobuf
      id: external_protobuf
      uses: actions/cache@v3
      with:
        path: aosp/external/protobuf
        key: external_protobuf@${{ env.branch }}
        restore-keys: external_protobuf@${{ env.branch }}
    - name: Clone project external/protobuf
      if: steps.external_protobuf.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/protobuf

    - name: Restore Cache external/rust/crates/cfg-if
      id: external_rust_crates_cfg-if
      uses: actions/cache@v3
      with:
        path: aosp/external/rust/crates/cfg-if
        key: external_rust_crates_cfg-if@${{ env.branch }}
        restore-keys: external_rust_crates_cfg-if@${{ env.branch }}
    - name: Clone project external/rust/crates/cfg-if
      if: steps.external_rust_crates_cfg-if.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/rust/crates/cfg-if

    - name: Restore Cache external/rust/crates/gdbstub
      id: external_rust_crates_gdbstub
      uses: actions/cache@v3
      with:
        path: aosp/external/rust/crates/gdbstub
        key: external_rust_crates_gdbstub@${{ env.branch }}
        restore-keys: external_rust_crates_gdbstub@${{ env.branch }}
    - name: Clone project external/rust/crates/gdbstub
      if: steps.external_rust_crates_gdbstub.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/rust/crates/gdbstub

    - name: Restore Cache external/rust/crates/log
      id: external_rust_crates_log
      uses: actions/cache@v3
      with:
        path: aosp/external/rust/crates/log
        key: external_rust_crates_log@${{ env.branch }}
        restore-keys: external_rust_crates_log@${{ env.branch }}
    - name: Clone project external/rust/crates/log
      if: steps.external_rust_crates_log.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/rust/crates/log

    - name: Restore Cache external/rust/crates/managed
      id: external_rust_crates_managed
      uses: actions/cache@v3
      with:
        path: aosp/external/rust/crates/managed
        key: external_rust_crates_managed@${{ env.branch }}
        restore-keys: external_rust_crates_managed@${{ env.branch }}
    - name: Clone project external/rust/crates/managed
      if: steps.external_rust_crates_managed.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/rust/crates/managed

    - name: Restore Cache external/rust/crates/num-traits
      id: external_rust_crates_num-traits
      uses: actions/cache@v3
      with:
        path: aosp/external/rust/crates/num-traits
        key: external_rust_crates_num-traits@${{ env.branch }}
        restore-keys: external_rust_crates_num-traits@${{ env.branch }}
    - name: Clone project external/rust/crates/num-traits
      if: steps.external_rust_crates_num-traits.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/rust/crates/num-traits

    - name: Restore Cache external/rust/crates/paste
      id: external_rust_crates_paste
      uses: actions/cache@v3
      with:
        path: aosp/external/rust/crates/paste
        key: external_rust_crates_paste@${{ env.branch }}
        restore-keys: external_rust_crates_paste@${{ env.branch }}
    - name: Clone project external/rust/crates/paste
      if: steps.external_rust_crates_paste.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/rust/crates/paste

    - name: Restore Cache external/skia
      id: external_skia
      uses: actions/cache@v3
      with:
        path: aosp/external/skia
        key: external_skia@${{ env.branch }}
        restore-keys: external_skia@${{ env.branch }}
    - name: Clone project external/skia
      if: steps.external_skia.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse_exclude external/skia "!/site" "!/resources"

    - name: Restore Cache external/starlark-go
      id: external_starlark-go
      uses: actions/cache@v3
      with:
        path: aosp/external/starlark-go
        key: external_starlark-go@${{ env.branch }}
        restore-keys: external_starlark-go@${{ env.branch }}
    - name: Clone project external/starlark-go
      if: steps.external_starlark-go.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/starlark-go

    - name: Restore Cache external/tremolo
      id: external_tremolo
      uses: actions/cache@v3
      with:
        path: aosp/external/tremolo
        key: external_tremolo@${{ env.branch }}
        restore-keys: external_tremolo@${{ env.branch }}
    - name: Clone project external/tremolo
      if: steps.external_tremolo.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/tremolo

    - name: Restore Cache external/vulkan-headers
      id: external_vulkan-headers
      uses: actions/cache@v3
      with:
        path: aosp/external/vulkan-headers
        key: external_vulkan-headers@${{ env.branch }}
        restore-keys: external_vulkan-headers@${{ env.branch }}
    - name: Clone project external/vulkan-headers
      if: steps.external_vulkan-headers.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/vulkan-headers

    - name: Restore Cache external/webp
      id: external_webp
      uses: actions/cache@v3
      with:
        path: aosp/external/webp
        key: external_webp@${{ env.branch }}
        restore-keys: external_webp@${{ env.branch }}
    - name: Clone project external/webp
      if: steps.external_webp.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform external/webp

    - name: Restore Cache frameworks/av
      id: frameworks_av
      uses: actions/cache@v3
      with:
        path: aosp/frameworks/av
        key: frameworks_av@${{ env.branch }}
        restore-keys: frameworks_av@${{ env.branch }}
    - name: Clone project frameworks/av
      if: steps.frameworks_av.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse_exclude frameworks/av "!/media/libmediatranscoding/tests/assets/TranscodingTestAssets" "!/media/codec2/hidl/1.0/vts/functional/res"

    - name: Restore Cache frameworks/base
      id: frameworks_base
      uses: actions/cache@v3
      with:
        path: aosp/frameworks/base
        key: frameworks_base@${{ env.branch }}
        restore-keys: frameworks_base@${{ env.branch }}
    - name: Clone project frameworks/base
      if: steps.frameworks_base.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse_exclude frameworks/base "!/data/sounds" "!/data/videos" "!/media/tests/contents" "!/docs" "!/native/graphics/jni/fuzz" "!/cmd/incidentd/testdata"

    - name: Restore Cache frameworks/hardware/interfaces
      id: frameworks_hardware_interfaces
      uses: actions/cache@v3
      with:
        path: aosp/frameworks/hardware/interfaces
        key: frameworks_hardware_interfaces@${{ env.branch }}
        restore-keys: frameworks_hardware_interfaces@${{ env.branch }}
    - name: Clone project frameworks/hardware/interfaces
      if: steps.frameworks_hardware_interfaces.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform frameworks/hardware/interfaces

    - name: Restore Cache frameworks/native
      id: frameworks_native
      uses: actions/cache@v3
      with:
        path: aosp/frameworks/native
        key: frameworks_native@${{ env.branch }}
        restore-keys: frameworks_native@${{ env.branch }}
    - name: Clone project frameworks/native
      if: steps.frameworks_native.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform frameworks/native

    - name: Restore Cache frameworks/rs
      id: frameworks_rs
      uses: actions/cache@v3
      with:
        path: aosp/frameworks/rs
        key: frameworks_rs@${{ env.branch }}
        restore-keys: frameworks_rs@${{ env.branch }}
    - name: Clone project frameworks/rs
      if: steps.frameworks_rs.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform frameworks/rs

    - name: Restore Cache hardware/interfaces
      id: hardware_interfaces
      uses: actions/cache@v3
      with:
        path: aosp/hardware/interfaces
        key: hardware_interfaces@${{ env.branch }}
        restore-keys: hardware_interfaces@${{ env.branch }}
    - name: Clone project hardware/interfaces
      if: steps.hardware_interfaces.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform hardware/interfaces

    - name: Restore Cache hardware/libhardware
      id: hardware_libhardware
      uses: actions/cache@v3
      with:
        path: aosp/hardware/libhardware
        key: hardware_libhardware@${{ env.branch }}
        restore-keys: hardware_libhardware@${{ env.branch }}
    - name: Clone project hardware/libhardware
      if: steps.hardware_libhardware.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform hardware/libhardware

    - name: Restore Cache kernel/configs
      id: kernel_configs
      uses: actions/cache@v3
      with:
        path: aosp/kernel/configs
        key: kernel_configs@${{ env.branch }}
        restore-keys: kernel_configs@${{ env.branch }}
    - name: Clone project kernel/configs
      if: steps.kernel_configs.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth kernel/configs

    - name: Restore Cache libnativehelper
      id: libnativehelper
      uses: actions/cache@v3
      with:
        path: aosp/libnativehelper
        key: libnativehelper@${{ env.branch }}
        restore-keys: libnativehelper@${{ env.branch }}
    - name: Clone project libnativehelper
      if: steps.libnativehelper.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform libnativehelper

    - name: Restore Cache packages/modules/DnsResolver
      id: packages_modules_DnsResolver
      uses: actions/cache@v3
      with:
        path: aosp/packages/modules/DnsResolver
        key: packages_modules_DnsResolver@${{ env.branch }}
        restore-keys: packages_modules_DnsResolver@${{ env.branch }}
    - name: Clone project packages/modules/DnsResolver
      if: steps.packages_modules_DnsResolver.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform packages/modules/DnsResolver

    - name: Restore Cache packages/modules/NeuralNetworks
      id: packages_modules_NeuralNetworks
      uses: actions/cache@v3
      with:
        path: aosp/packages/modules/NeuralNetworks
        key: packages_modules_NeuralNetworks@${{ env.branch }}
        restore-keys: packages_modules_NeuralNetworks@${{ env.branch }}
    - name: Clone project packages/modules/NeuralNetworks
      if: steps.packages_modules_NeuralNetworks.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform packages/modules/NeuralNetworks

    - name: Restore Cache prebuilts/build-tools
      id: prebuilts_build-tools
      uses: actions/cache@v3
      with:
        path: aosp/prebuilts/build-tools
        key: prebuilts_build-tools@${{ env.branch }}
        restore-keys: prebuilts_build-tools@${{ env.branch }}
    - name: Clone project prebuilts/build-tools
      if: steps.prebuilts_build-tools.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse prebuilts/build-tools linux-x86/bin linux-x86/lib64 path common

    - name: Restore Cache prebuilts/clang-tools
      id: prebuilts_clang-tools
      uses: actions/cache@v3
      with:
        path: aosp/prebuilts/clang-tools
        key: prebuilts_clang-tools@${{ env.branch }}
        restore-keys: prebuilts_clang-tools@${{ env.branch }}
    - name: Clone project prebuilts/clang-tools
      if: steps.prebuilts_clang-tools.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse prebuilts/clang-tools linux-x86/bin linux-x86/lib64/clang

    - name: Restore Cache prebuilts/clang/host/linux-x86
      id: prebuilts_clang_host_linux-x86
      uses: actions/cache@v3
      with:
        path: aosp/prebuilts/clang/host/linux-x86
        key: prebuilts_clang_host_linux-x86@${{ env.branch }}
        restore-keys: prebuilts_clang_host_linux-x86@${{ env.branch }}
    - name: Clone project prebuilts/clang/host/linux-x86
      if: steps.prebuilts_clang_host_linux-x86.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse prebuilts/clang/host/linux-x86 $(python ${GITHUB_WORKSPACE}/get_clang_version.py) clang-r416183b soong

    - name: Restore Cache prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.17-4.8
      id: prebuilts_gcc_linux-x86_host_x86_64-linux-glibc2_17-4_8
      uses: actions/cache@v3
      with:
        path: aosp/prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.17-4.8
        key: prebuilts_gcc_linux-x86_host_x86_64-linux-glibc2_17-4_8@${{ env.branch }}
        restore-keys: prebuilts_gcc_linux-x86_host_x86_64-linux-glibc2_17-4_8@${{ env.branch }}
    - name: Clone project prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.17-4.8
      if: steps.prebuilts_gcc_linux-x86_host_x86_64-linux-glibc2_17-4_8.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.17-4.8 sysroot lib/gcc/x86_64-linux/4.8.3 x86_64-linux/lib64 x86_64-linux/lib32

    - name: Restore Cache prebuilts/misc
      id: prebuilts_misc
      uses: actions/cache@v3
      with:
        path: aosp/prebuilts/misc
        key: prebuilts_misc@${{ env.branch }}
        restore-keys: prebuilts_misc@${{ env.branch }}
    - name: Clone project prebuilts/misc
      if: steps.prebuilts_misc.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse_exclude prebuilts/misc "!/common/robolectric" "!/darwin-x86" "!/darwin-x86_64" "!/gdbserver"

    - name: Restore Cache prebuilts/ndk
      id: prebuilts_ndk
      uses: actions/cache@v3
      with:
        path: aosp/prebuilts/ndk
        key: prebuilts_ndk@${{ env.branch }}
        restore-keys: prebuilts_ndk@${{ env.branch }}
    - name: Clone project prebuilts/ndk
      if: steps.prebuilts_ndk.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse prebuilts/ndk current

    - name: Restore Cache prebuilts/rust
      id: prebuilts_rust
      uses: actions/cache@v3
      with:
        path: aosp/prebuilts/rust
        key: prebuilts_rust@${{ env.branch }}
        restore-keys: prebuilts_rust@${{ env.branch }}
    - name: Clone project prebuilts/rust
      if: steps.prebuilts_rust.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse prebuilts/rust bootstrap linux-x86/1.51.0

    - name: Restore Cache system/apex
      id: system_apex
      uses: actions/cache@v3
      with:
        path: aosp/system/apex
        key: system_apex@${{ env.branch }}
        restore-keys: system_apex@${{ env.branch }}
    - name: Clone project system/apex
      if: steps.system_apex.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse_exclude system/apex !/tests

    - name: Restore Cache system/bt
      id: system_bt
      uses: actions/cache@v3
      with:
        path: aosp/system/bt
        key: system_bt@${{ env.branch }}
        restore-keys: system_bt@${{ env.branch }}
    - name: Clone project system/bt
      if: steps.system_bt.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/bt

    - name: Restore Cache system/core
      id: system_core
      uses: actions/cache@v3
      with:
        path: aosp/system/core
        key: system_core@${{ env.branch }}
        restore-keys: system_core@${{ env.branch }}
    - name: Clone project system/core
      if: steps.system_core.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/core

    - name: Restore Cache system/libbase
      id: system_libbase
      uses: actions/cache@v3
      with:
        path: aosp/system/libbase
        key: system_libbase@${{ env.branch }}
        restore-keys: system_libbase@${{ env.branch }}
    - name: Clone project system/libbase
      if: steps.system_libbase.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/libbase

    - name: Restore Cache system/libfmq
      id: system_libfmq
      uses: actions/cache@v3
      with:
        path: aosp/system/libfmq
        key: system_libfmq@${{ env.branch }}
        restore-keys: system_libfmq@${{ env.branch }}
    - name: Clone project system/libfmq
      if: steps.system_libfmq.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/libfmq

    - name: Restore Cache system/libhidl
      id: system_libhidl
      uses: actions/cache@v3
      with:
        path: aosp/system/libhidl
        key: system_libhidl@${{ env.branch }}
        restore-keys: system_libhidl@${{ env.branch }}
    - name: Clone project system/libhidl
      if: steps.system_libhidl.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/libhidl

    - name: Restore Cache system/libhwbinder
      id: system_libhwbinder
      uses: actions/cache@v3
      with:
        path: aosp/system/libhwbinder
        key: system_libhwbinder@${{ env.branch }}
        restore-keys: system_libhwbinder@${{ env.branch }}
    - name: Clone project system/libhwbinder
      if: steps.system_libhwbinder.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/libhwbinder

    - name: Restore Cache system/libsysprop
      id: system_libsysprop
      uses: actions/cache@v3
      with:
        path: aosp/system/libsysprop
        key: system_libsysprop@${{ env.branch }}
        restore-keys: system_libsysprop@${{ env.branch }}
    - name: Clone project system/libsysprop
      if: steps.system_libsysprop.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/libsysprop

    - name: Restore Cache system/logging
      id: system_logging
      uses: actions/cache@v3
      with:
        path: aosp/system/logging
        key: system_logging@${{ env.branch }}
        restore-keys: system_logging@${{ env.branch }}
    - name: Clone project system/logging
      if: steps.system_logging.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/logging

    - name: Restore Cache system/media
      id: system_media
      uses: actions/cache@v3
      with:
        path: aosp/system/media
        key: system_media@${{ env.branch }}
        restore-keys: system_media@${{ env.branch }}
    - name: Clone project system/media
      if: steps.system_media.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/media

    - name: Restore Cache system/netd
      id: system_netd
      uses: actions/cache@v3
      with:
        path: aosp/system/netd
        key: system_netd@${{ env.branch }}
        restore-keys: system_netd@${{ env.branch }}
    - name: Clone project system/netd
      if: steps.system_netd.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/netd

    - name: Restore Cache system/sepolicy
      id: system_sepolicy
      uses: actions/cache@v3
      with:
        path: aosp/system/sepolicy
        key: system_sepolicy@${{ env.branch }}
        restore-keys: system_sepolicy@${{ env.branch }}
    - name: Clone project system/sepolicy
      if: steps.system_sepolicy.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/sepolicy

    - name: Restore Cache system/tools/aidl
      id: system_tools_aidl
      uses: actions/cache@v3
      with:
        path: aosp/system/tools/aidl
        key: system_tools_aidl@${{ env.branch }}
        restore-keys: system_tools_aidl@${{ env.branch }}
    - name: Clone project system/tools/aidl
      if: steps.system_tools_aidl.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/tools/aidl

    - name: Restore Cache system/tools/hidl
      id: system_tools_hidl
      uses: actions/cache@v3
      with:
        path: aosp/system/tools/hidl
        key: system_tools_hidl@${{ env.branch }}
        restore-keys: system_tools_hidl@${{ env.branch }}
    - name: Clone project system/tools/hidl
      if: steps.system_tools_hidl.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_depth_platform system/tools/hidl

    - name: Restore Cache system/unwinding
      id: system_unwinding
      uses: actions/cache@v3
      with:
        path: aosp/system/unwinding
        key: system_unwinding@${{ env.branch }}
        restore-keys: system_unwinding@${{ env.branch }}
    - name: Clone project system/unwinding
      if: steps.system_unwinding.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        clone_sparse_exclude system/unwinding "!/libunwindstack/tests/files" "!/libunwindstack/benchmarks/files" "!/libbacktrace/testdata"

    - name: Restore Cache art-11.tar.xz
      id: art-11
      uses: actions/cache@v3
      with:
        path: aosp/art-11.tar.xz
        key: art-11
        restore-keys: art-11
    - name: Clone project art-11.tar.xz
      if: steps.art-11.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release art-11.tar.xz android-12.0.0_r1-11

    - name: Restore Cache bionic-11.tar.xz
      id: bionic-11
      uses: actions/cache@v3
      with:
        path: aosp/bionic-11.tar.xz
        key: bionic-11
        restore-keys: bionic-11
    - name: Clone project bionic-11.tar.xz
      if: steps.bionic-11.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release bionic-11.tar.xz android-12.0.0_r1-11

    - name: Restore Cache device_generic_vulkan-cereal-12.tar.xz
      id: device_generic_vulkan-cereal-12
      uses: actions/cache@v3
      with:
        path: aosp/device_generic_vulkan-cereal-12.tar.xz
        key: device_generic_vulkan-cereal-12
        restore-keys: device_generic_vulkan-cereal-12
    - name: Clone project device_generic_vulkan-cereal-12.tar.xz
      if: steps.device_generic_vulkan-cereal-12.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release device_generic_vulkan-cereal-12.tar.xz android-12.0.0_r1-12

    - name: Restore Cache external_adhd-8.tar.xz
      id: external_adhd-8
      uses: actions/cache@v3
      with:
        path: aosp/external_adhd-8.tar.xz
        key: external_adhd-8
        restore-keys: external_adhd-8
    - name: Clone project external_adhd-8.tar.xz
      if: steps.external_adhd-8.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_adhd-8.tar.xz android-12.0.0_r1-8

    - name: Restore Cache external_arm-optimized-routines-0.tar.xz
      id: external_arm-optimized-routines-0
      uses: actions/cache@v3
      with:
        path: aosp/external_arm-optimized-routines-0.tar.xz
        key: external_arm-optimized-routines-0
        restore-keys: external_arm-optimized-routines-0
    - name: Clone project external_arm-optimized-routines-0.tar.xz
      if: steps.external_arm-optimized-routines-0.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_arm-optimized-routines-0.tar.xz android-12.0.0_r1-0

    - name: Restore Cache external_boringssl-4.tar.xz
      id: external_boringssl-4
      uses: actions/cache@v3
      with:
        path: aosp/external_boringssl-4.tar.xz
        key: external_boringssl-4
        restore-keys: external_boringssl-4
    - name: Clone project external_boringssl-4.tar.xz
      if: steps.external_boringssl-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_boringssl-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_crosvm-10.tar.xz
      id: external_crosvm-10
      uses: actions/cache@v3
      with:
        path: aosp/external_crosvm-10.tar.xz
        key: external_crosvm-10
        restore-keys: external_crosvm-10
    - name: Clone project external_crosvm-10.tar.xz
      if: steps.external_crosvm-10.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_crosvm-10.tar.xz android-12.0.0_r1-10

    - name: Restore Cache external_dng_sdk-5.tar.xz
      id: external_dng_sdk-5
      uses: actions/cache@v3
      with:
        path: aosp/external_dng_sdk-5.tar.xz
        key: external_dng_sdk-5
        restore-keys: external_dng_sdk-5
    - name: Clone project external_dng_sdk-5.tar.xz
      if: steps.external_dng_sdk-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_dng_sdk-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_dtc-4.tar.xz
      id: external_dtc-4
      uses: actions/cache@v3
      with:
        path: aosp/external_dtc-4.tar.xz
        key: external_dtc-4
        restore-keys: external_dtc-4
    - name: Clone project external_dtc-4.tar.xz
      if: steps.external_dtc-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_dtc-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_dynamic_depth-8.tar.xz
      id: external_dynamic_depth-8
      uses: actions/cache@v3
      with:
        path: aosp/external_dynamic_depth-8.tar.xz
        key: external_dynamic_depth-8
        restore-keys: external_dynamic_depth-8
    - name: Clone project external_dynamic_depth-8.tar.xz
      if: steps.external_dynamic_depth-8.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_dynamic_depth-8.tar.xz android-12.0.0_r1-8

    - name: Restore Cache external_expat-2.tar.xz
      id: external_expat-2
      uses: actions/cache@v3
      with:
        path: aosp/external_expat-2.tar.xz
        key: external_expat-2
        restore-keys: external_expat-2
    - name: Clone project external_expat-2.tar.xz
      if: steps.external_expat-2.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_expat-2.tar.xz android-12.0.0_r1-2

    - name: Restore Cache external_flac-4.tar.xz
      id: external_flac-4
      uses: actions/cache@v3
      with:
        path: aosp/external_flac-4.tar.xz
        key: external_flac-4
        restore-keys: external_flac-4
    - name: Clone project external_flac-4.tar.xz
      if: steps.external_flac-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_flac-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_fmtlib-4.tar.xz
      id: external_fmtlib-4
      uses: actions/cache@v3
      with:
        path: aosp/external_fmtlib-4.tar.xz
        key: external_fmtlib-4
        restore-keys: external_fmtlib-4
    - name: Clone project external_fmtlib-4.tar.xz
      if: steps.external_fmtlib-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_fmtlib-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_freetype-5.tar.xz
      id: external_freetype-5
      uses: actions/cache@v3
      with:
        path: aosp/external_freetype-5.tar.xz
        key: external_freetype-5
        restore-keys: external_freetype-5
    - name: Clone project external_freetype-5.tar.xz
      if: steps.external_freetype-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_freetype-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_gwp_asan-4.tar.xz
      id: external_gwp_asan-4
      uses: actions/cache@v3
      with:
        path: aosp/external_gwp_asan-4.tar.xz
        key: external_gwp_asan-4
        restore-keys: external_gwp_asan-4
    - name: Clone project external_gwp_asan-4.tar.xz
      if: steps.external_gwp_asan-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_gwp_asan-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_icu-6.tar.xz
      id: external_icu-6
      uses: actions/cache@v3
      with:
        path: aosp/external_icu-6.tar.xz
        key: external_icu-6
        restore-keys: external_icu-6
    - name: Clone project external_icu-6.tar.xz
      if: steps.external_icu-6.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_icu-6.tar.xz android-12.0.0_r1-6

    - name: Restore Cache external_image_io-5.tar.xz
      id: external_image_io-5
      uses: actions/cache@v3
      with:
        path: aosp/external_image_io-5.tar.xz
        key: external_image_io-5
        restore-keys: external_image_io-5
    - name: Clone project external_image_io-5.tar.xz
      if: steps.external_image_io-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_image_io-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_jsoncpp-4.tar.xz
      id: external_jsoncpp-4
      uses: actions/cache@v3
      with:
        path: aosp/external_jsoncpp-4.tar.xz
        key: external_jsoncpp-4
        restore-keys: external_jsoncpp-4
    - name: Clone project external_jsoncpp-4.tar.xz
      if: steps.external_jsoncpp-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_jsoncpp-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_libcap-4.tar.xz
      id: external_libcap-4
      uses: actions/cache@v3
      with:
        path: aosp/external_libcap-4.tar.xz
        key: external_libcap-4
        restore-keys: external_libcap-4
    - name: Clone project external_libcap-4.tar.xz
      if: steps.external_libcap-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libcap-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_libchromeos-rs-10.tar.xz
      id: external_libchromeos-rs-10
      uses: actions/cache@v3
      with:
        path: aosp/external_libchromeos-rs-10.tar.xz
        key: external_libchromeos-rs-10
        restore-keys: external_libchromeos-rs-10
    - name: Clone project external_libchromeos-rs-10.tar.xz
      if: steps.external_libchromeos-rs-10.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libchromeos-rs-10.tar.xz android-12.0.0_r1-10

    - name: Restore Cache external_libcxx-3.tar.xz
      id: external_libcxx-3
      uses: actions/cache@v3
      with:
        path: aosp/external_libcxx-3.tar.xz
        key: external_libcxx-3
        restore-keys: external_libcxx-3
    - name: Clone project external_libcxx-3.tar.xz
      if: steps.external_libcxx-3.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libcxx-3.tar.xz android-12.0.0_r1-3

    - name: Restore Cache external_libcxxabi-2.tar.xz
      id: external_libcxxabi-2
      uses: actions/cache@v3
      with:
        path: aosp/external_libcxxabi-2.tar.xz
        key: external_libcxxabi-2
        restore-keys: external_libcxxabi-2
    - name: Clone project external_libcxxabi-2.tar.xz
      if: steps.external_libcxxabi-2.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libcxxabi-2.tar.xz android-12.0.0_r1-2

    - name: Restore Cache external_libdrm-4.tar.xz
      id: external_libdrm-4
      uses: actions/cache@v3
      with:
        path: aosp/external_libdrm-4.tar.xz
        key: external_libdrm-4
        restore-keys: external_libdrm-4
    - name: Clone project external_libdrm-4.tar.xz
      if: steps.external_libdrm-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libdrm-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_libepoxy-4.tar.xz
      id: external_libepoxy-4
      uses: actions/cache@v3
      with:
        path: aosp/external_libepoxy-4.tar.xz
        key: external_libepoxy-4
        restore-keys: external_libepoxy-4
    - name: Clone project external_libepoxy-4.tar.xz
      if: steps.external_libepoxy-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libepoxy-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_libexif-5.tar.xz
      id: external_libexif-5
      uses: actions/cache@v3
      with:
        path: aosp/external_libexif-5.tar.xz
        key: external_libexif-5
        restore-keys: external_libexif-5
    - name: Clone project external_libexif-5.tar.xz
      if: steps.external_libexif-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libexif-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_libffi-4.tar.xz
      id: external_libffi-4
      uses: actions/cache@v3
      with:
        path: aosp/external_libffi-4.tar.xz
        key: external_libffi-4
        restore-keys: external_libffi-4
    - name: Clone project external_libffi-4.tar.xz
      if: steps.external_libffi-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libffi-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_libjpeg-turbo-4.tar.xz
      id: external_libjpeg-turbo-4
      uses: actions/cache@v3
      with:
        path: aosp/external_libjpeg-turbo-4.tar.xz
        key: external_libjpeg-turbo-4
        restore-keys: external_libjpeg-turbo-4
    - name: Clone project external_libjpeg-turbo-4.tar.xz
      if: steps.external_libjpeg-turbo-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libjpeg-turbo-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_libogg-4.tar.xz
      id: external_libogg-4
      uses: actions/cache@v3
      with:
        path: aosp/external_libogg-4.tar.xz
        key: external_libogg-4
        restore-keys: external_libogg-4
    - name: Clone project external_libogg-4.tar.xz
      if: steps.external_libogg-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libogg-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_libpng-4.tar.xz
      id: external_libpng-4
      uses: actions/cache@v3
      with:
        path: aosp/external_libpng-4.tar.xz
        key: external_libpng-4
        restore-keys: external_libpng-4
    - name: Clone project external_libpng-4.tar.xz
      if: steps.external_libpng-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libpng-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_libvpx-4.tar.xz
      id: external_libvpx-4
      uses: actions/cache@v3
      with:
        path: aosp/external_libvpx-4.tar.xz
        key: external_libvpx-4
        restore-keys: external_libvpx-4
    - name: Clone project external_libvpx-4.tar.xz
      if: steps.external_libvpx-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libvpx-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_libxml2-7.tar.xz
      id: external_libxml2-7
      uses: actions/cache@v3
      with:
        path: aosp/external_libxml2-7.tar.xz
        key: external_libxml2-7
        restore-keys: external_libxml2-7
    - name: Clone project external_libxml2-7.tar.xz
      if: steps.external_libxml2-7.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libxml2-7.tar.xz android-12.0.0_r1-7

    - name: Restore Cache external_libyuv-5.tar.xz
      id: external_libyuv-5
      uses: actions/cache@v3
      with:
        path: aosp/external_libyuv-5.tar.xz
        key: external_libyuv-5
        restore-keys: external_libyuv-5
    - name: Clone project external_libyuv-5.tar.xz
      if: steps.external_libyuv-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_libyuv-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_minigbm-12.tar.xz
      id: external_minigbm-12
      uses: actions/cache@v3
      with:
        path: aosp/external_minigbm-12.tar.xz
        key: external_minigbm-12
        restore-keys: external_minigbm-12
    - name: Clone project external_minigbm-12.tar.xz
      if: steps.external_minigbm-12.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_minigbm-12.tar.xz android-12.0.0_r1-12

    - name: Restore Cache external_minijail-6.tar.xz
      id: external_minijail-6
      uses: actions/cache@v3
      with:
        path: aosp/external_minijail-6.tar.xz
        key: external_minijail-6
        restore-keys: external_minijail-6
    - name: Clone project external_minijail-6.tar.xz
      if: steps.external_minijail-6.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_minijail-6.tar.xz android-12.0.0_r1-6

    - name: Restore Cache external_modp_b64-4.tar.xz
      id: external_modp_b64-4
      uses: actions/cache@v3
      with:
        path: aosp/external_modp_b64-4.tar.xz
        key: external_modp_b64-4
        restore-keys: external_modp_b64-4
    - name: Clone project external_modp_b64-4.tar.xz
      if: steps.external_modp_b64-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_modp_b64-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_perfetto-10.tar.xz
      id: external_perfetto-10
      uses: actions/cache@v3
      with:
        path: aosp/external_perfetto-10.tar.xz
        key: external_perfetto-10
        restore-keys: external_perfetto-10
    - name: Clone project external_perfetto-10.tar.xz
      if: steps.external_perfetto-10.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_perfetto-10.tar.xz android-12.0.0_r1-10

    - name: Restore Cache external_piex-4.tar.xz
      id: external_piex-4
      uses: actions/cache@v3
      with:
        path: aosp/external_piex-4.tar.xz
        key: external_piex-4
        restore-keys: external_piex-4
    - name: Clone project external_piex-4.tar.xz
      if: steps.external_piex-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_piex-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_protobuf-5.tar.xz
      id: external_protobuf-5
      uses: actions/cache@v3
      with:
        path: aosp/external_protobuf-5.tar.xz
        key: external_protobuf-5
        restore-keys: external_protobuf-5
    - name: Clone project external_protobuf-5.tar.xz
      if: steps.external_protobuf-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_protobuf-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_android_log-sys-5.tar.xz
      id: external_rust_crates_android_log-sys-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_android_log-sys-5.tar.xz
        key: external_rust_crates_android_log-sys-5
        restore-keys: external_rust_crates_android_log-sys-5
    - name: Clone project external_rust_crates_android_log-sys-5.tar.xz
      if: steps.external_rust_crates_android_log-sys-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_android_log-sys-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_async-task-5.tar.xz
      id: external_rust_crates_async-task-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_async-task-5.tar.xz
        key: external_rust_crates_async-task-5
        restore-keys: external_rust_crates_async-task-5
    - name: Clone project external_rust_crates_async-task-5.tar.xz
      if: steps.external_rust_crates_async-task-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_async-task-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_async-trait-4.tar.xz
      id: external_rust_crates_async-trait-4
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_async-trait-4.tar.xz
        key: external_rust_crates_async-trait-4
        restore-keys: external_rust_crates_async-trait-4
    - name: Clone project external_rust_crates_async-trait-4.tar.xz
      if: steps.external_rust_crates_async-trait-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_async-trait-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_rust_crates_bitflags-5.tar.xz
      id: external_rust_crates_bitflags-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_bitflags-5.tar.xz
        key: external_rust_crates_bitflags-5
        restore-keys: external_rust_crates_bitflags-5
    - name: Clone project external_rust_crates_bitflags-5.tar.xz
      if: steps.external_rust_crates_bitflags-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_bitflags-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_bytes-0.tar.xz
      id: external_rust_crates_bytes-0
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_bytes-0.tar.xz
        key: external_rust_crates_bytes-0
        restore-keys: external_rust_crates_bytes-0
    - name: Clone project external_rust_crates_bytes-0.tar.xz
      if: steps.external_rust_crates_bytes-0.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_bytes-0.tar.xz android-12.0.0_r1-0

    - name: Restore Cache external_rust_crates_cfg-if-5.tar.xz
      id: external_rust_crates_cfg-if-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_cfg-if-5.tar.xz
        key: external_rust_crates_cfg-if-5
        restore-keys: external_rust_crates_cfg-if-5
    - name: Clone project external_rust_crates_cfg-if-5.tar.xz
      if: steps.external_rust_crates_cfg-if-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_cfg-if-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_downcast-rs-0.tar.xz
      id: external_rust_crates_downcast-rs-0
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_downcast-rs-0.tar.xz
        key: external_rust_crates_downcast-rs-0
        restore-keys: external_rust_crates_downcast-rs-0
    - name: Clone project external_rust_crates_downcast-rs-0.tar.xz
      if: steps.external_rust_crates_downcast-rs-0.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_downcast-rs-0.tar.xz android-12.0.0_r1-0

    - name: Restore Cache external_rust_crates_futures-channel-6.tar.xz
      id: external_rust_crates_futures-channel-6
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_futures-channel-6.tar.xz
        key: external_rust_crates_futures-channel-6
        restore-keys: external_rust_crates_futures-channel-6
    - name: Clone project external_rust_crates_futures-channel-6.tar.xz
      if: steps.external_rust_crates_futures-channel-6.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_futures-channel-6.tar.xz android-12.0.0_r1-6

    - name: Restore Cache external_rust_crates_futures-core-5.tar.xz
      id: external_rust_crates_futures-core-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_futures-core-5.tar.xz
        key: external_rust_crates_futures-core-5
        restore-keys: external_rust_crates_futures-core-5
    - name: Clone project external_rust_crates_futures-core-5.tar.xz
      if: steps.external_rust_crates_futures-core-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_futures-core-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_futures-executor-8.tar.xz
      id: external_rust_crates_futures-executor-8
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_futures-executor-8.tar.xz
        key: external_rust_crates_futures-executor-8
        restore-keys: external_rust_crates_futures-executor-8
    - name: Clone project external_rust_crates_futures-executor-8.tar.xz
      if: steps.external_rust_crates_futures-executor-8.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_futures-executor-8.tar.xz android-12.0.0_r1-8

    - name: Restore Cache external_rust_crates_futures-io-5.tar.xz
      id: external_rust_crates_futures-io-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_futures-io-5.tar.xz
        key: external_rust_crates_futures-io-5
        restore-keys: external_rust_crates_futures-io-5
    - name: Clone project external_rust_crates_futures-io-5.tar.xz
      if: steps.external_rust_crates_futures-io-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_futures-io-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_futures-macro-4.tar.xz
      id: external_rust_crates_futures-macro-4
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_futures-macro-4.tar.xz
        key: external_rust_crates_futures-macro-4
        restore-keys: external_rust_crates_futures-macro-4
    - name: Clone project external_rust_crates_futures-macro-4.tar.xz
      if: steps.external_rust_crates_futures-macro-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_futures-macro-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_rust_crates_futures-sink-5.tar.xz
      id: external_rust_crates_futures-sink-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_futures-sink-5.tar.xz
        key: external_rust_crates_futures-sink-5
        restore-keys: external_rust_crates_futures-sink-5
    - name: Clone project external_rust_crates_futures-sink-5.tar.xz
      if: steps.external_rust_crates_futures-sink-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_futures-sink-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_futures-task-5.tar.xz
      id: external_rust_crates_futures-task-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_futures-task-5.tar.xz
        key: external_rust_crates_futures-task-5
        restore-keys: external_rust_crates_futures-task-5
    - name: Clone project external_rust_crates_futures-task-5.tar.xz
      if: steps.external_rust_crates_futures-task-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_futures-task-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_futures-util-7.tar.xz
      id: external_rust_crates_futures-util-7
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_futures-util-7.tar.xz
        key: external_rust_crates_futures-util-7
        restore-keys: external_rust_crates_futures-util-7
    - name: Clone project external_rust_crates_futures-util-7.tar.xz
      if: steps.external_rust_crates_futures-util-7.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_futures-util-7.tar.xz android-12.0.0_r1-7

    - name: Restore Cache external_rust_crates_futures-9.tar.xz
      id: external_rust_crates_futures-9
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_futures-9.tar.xz
        key: external_rust_crates_futures-9
        restore-keys: external_rust_crates_futures-9
    - name: Clone project external_rust_crates_futures-9.tar.xz
      if: steps.external_rust_crates_futures-9.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_futures-9.tar.xz android-12.0.0_r1-9

    - name: Restore Cache external_rust_crates_intrusive-collections-6.tar.xz
      id: external_rust_crates_intrusive-collections-6
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_intrusive-collections-6.tar.xz
        key: external_rust_crates_intrusive-collections-6
        restore-keys: external_rust_crates_intrusive-collections-6
    - name: Clone project external_rust_crates_intrusive-collections-6.tar.xz
      if: steps.external_rust_crates_intrusive-collections-6.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_intrusive-collections-6.tar.xz android-12.0.0_r1-6

    - name: Restore Cache external_rust_crates_itoa-5.tar.xz
      id: external_rust_crates_itoa-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_itoa-5.tar.xz
        key: external_rust_crates_itoa-5
        restore-keys: external_rust_crates_itoa-5
    - name: Clone project external_rust_crates_itoa-5.tar.xz
      if: steps.external_rust_crates_itoa-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_itoa-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_libc-5.tar.xz
      id: external_rust_crates_libc-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_libc-5.tar.xz
        key: external_rust_crates_libc-5
        restore-keys: external_rust_crates_libc-5
    - name: Clone project external_rust_crates_libc-5.tar.xz
      if: steps.external_rust_crates_libc-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_libc-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_log-6.tar.xz
      id: external_rust_crates_log-6
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_log-6.tar.xz
        key: external_rust_crates_log-6
        restore-keys: external_rust_crates_log-6
    - name: Clone project external_rust_crates_log-6.tar.xz
      if: steps.external_rust_crates_log-6.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_log-6.tar.xz android-12.0.0_r1-6

    - name: Restore Cache external_rust_crates_memchr-5.tar.xz
      id: external_rust_crates_memchr-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_memchr-5.tar.xz
        key: external_rust_crates_memchr-5
        restore-keys: external_rust_crates_memchr-5
    - name: Clone project external_rust_crates_memchr-5.tar.xz
      if: steps.external_rust_crates_memchr-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_memchr-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_memoffset-5.tar.xz
      id: external_rust_crates_memoffset-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_memoffset-5.tar.xz
        key: external_rust_crates_memoffset-5
        restore-keys: external_rust_crates_memoffset-5
    - name: Clone project external_rust_crates_memoffset-5.tar.xz
      if: steps.external_rust_crates_memoffset-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_memoffset-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_num_cpus-6.tar.xz
      id: external_rust_crates_num_cpus-6
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_num_cpus-6.tar.xz
        key: external_rust_crates_num_cpus-6
        restore-keys: external_rust_crates_num_cpus-6
    - name: Clone project external_rust_crates_num_cpus-6.tar.xz
      if: steps.external_rust_crates_num_cpus-6.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_num_cpus-6.tar.xz android-12.0.0_r1-6

    - name: Restore Cache external_rust_crates_paste-0.tar.xz
      id: external_rust_crates_paste-0
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_paste-0.tar.xz
        key: external_rust_crates_paste-0
        restore-keys: external_rust_crates_paste-0
    - name: Clone project external_rust_crates_paste-0.tar.xz
      if: steps.external_rust_crates_paste-0.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_paste-0.tar.xz android-12.0.0_r1-0

    - name: Restore Cache external_rust_crates_pin-project-lite-5.tar.xz
      id: external_rust_crates_pin-project-lite-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_pin-project-lite-5.tar.xz
        key: external_rust_crates_pin-project-lite-5
        restore-keys: external_rust_crates_pin-project-lite-5
    - name: Clone project external_rust_crates_pin-project-lite-5.tar.xz
      if: steps.external_rust_crates_pin-project-lite-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_pin-project-lite-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_pin-utils-5.tar.xz
      id: external_rust_crates_pin-utils-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_pin-utils-5.tar.xz
        key: external_rust_crates_pin-utils-5
        restore-keys: external_rust_crates_pin-utils-5
    - name: Clone project external_rust_crates_pin-utils-5.tar.xz
      if: steps.external_rust_crates_pin-utils-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_pin-utils-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_proc-macro-hack-0.tar.xz
      id: external_rust_crates_proc-macro-hack-0
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_proc-macro-hack-0.tar.xz
        key: external_rust_crates_proc-macro-hack-0
        restore-keys: external_rust_crates_proc-macro-hack-0
    - name: Clone project external_rust_crates_proc-macro-hack-0.tar.xz
      if: steps.external_rust_crates_proc-macro-hack-0.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_proc-macro-hack-0.tar.xz android-12.0.0_r1-0

    - name: Restore Cache external_rust_crates_proc-macro-nested-5.tar.xz
      id: external_rust_crates_proc-macro-nested-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_proc-macro-nested-5.tar.xz
        key: external_rust_crates_proc-macro-nested-5
        restore-keys: external_rust_crates_proc-macro-nested-5
    - name: Clone project external_rust_crates_proc-macro-nested-5.tar.xz
      if: steps.external_rust_crates_proc-macro-nested-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_proc-macro-nested-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_proc-macro2-1.tar.xz
      id: external_rust_crates_proc-macro2-1
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_proc-macro2-1.tar.xz
        key: external_rust_crates_proc-macro2-1
        restore-keys: external_rust_crates_proc-macro2-1
    - name: Clone project external_rust_crates_proc-macro2-1.tar.xz
      if: steps.external_rust_crates_proc-macro2-1.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_proc-macro2-1.tar.xz android-12.0.0_r1-1

    - name: Restore Cache external_rust_crates_protobuf-codegen-2.tar.xz
      id: external_rust_crates_protobuf-codegen-2
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_protobuf-codegen-2.tar.xz
        key: external_rust_crates_protobuf-codegen-2
        restore-keys: external_rust_crates_protobuf-codegen-2
    - name: Clone project external_rust_crates_protobuf-codegen-2.tar.xz
      if: steps.external_rust_crates_protobuf-codegen-2.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_protobuf-codegen-2.tar.xz android-12.0.0_r1-2

    - name: Restore Cache external_rust_crates_protobuf-1.tar.xz
      id: external_rust_crates_protobuf-1
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_protobuf-1.tar.xz
        key: external_rust_crates_protobuf-1
        restore-keys: external_rust_crates_protobuf-1
    - name: Clone project external_rust_crates_protobuf-1.tar.xz
      if: steps.external_rust_crates_protobuf-1.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_protobuf-1.tar.xz android-12.0.0_r1-1

    - name: Restore Cache external_rust_crates_quote-2.tar.xz
      id: external_rust_crates_quote-2
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_quote-2.tar.xz
        key: external_rust_crates_quote-2
        restore-keys: external_rust_crates_quote-2
    - name: Clone project external_rust_crates_quote-2.tar.xz
      if: steps.external_rust_crates_quote-2.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_quote-2.tar.xz android-12.0.0_r1-2

    - name: Restore Cache external_rust_crates_remain-4.tar.xz
      id: external_rust_crates_remain-4
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_remain-4.tar.xz
        key: external_rust_crates_remain-4
        restore-keys: external_rust_crates_remain-4
    - name: Clone project external_rust_crates_remain-4.tar.xz
      if: steps.external_rust_crates_remain-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_remain-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_rust_crates_ryu-5.tar.xz
      id: external_rust_crates_ryu-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_ryu-5.tar.xz
        key: external_rust_crates_ryu-5
        restore-keys: external_rust_crates_ryu-5
    - name: Clone project external_rust_crates_ryu-5.tar.xz
      if: steps.external_rust_crates_ryu-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_ryu-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_serde-5.tar.xz
      id: external_rust_crates_serde-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_serde-5.tar.xz
        key: external_rust_crates_serde-5
        restore-keys: external_rust_crates_serde-5
    - name: Clone project external_rust_crates_serde-5.tar.xz
      if: steps.external_rust_crates_serde-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_serde-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_serde_derive-4.tar.xz
      id: external_rust_crates_serde_derive-4
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_serde_derive-4.tar.xz
        key: external_rust_crates_serde_derive-4
        restore-keys: external_rust_crates_serde_derive-4
    - name: Clone project external_rust_crates_serde_derive-4.tar.xz
      if: steps.external_rust_crates_serde_derive-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_serde_derive-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_rust_crates_serde_json-6.tar.xz
      id: external_rust_crates_serde_json-6
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_serde_json-6.tar.xz
        key: external_rust_crates_serde_json-6
        restore-keys: external_rust_crates_serde_json-6
    - name: Clone project external_rust_crates_serde_json-6.tar.xz
      if: steps.external_rust_crates_serde_json-6.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_serde_json-6.tar.xz android-12.0.0_r1-6

    - name: Restore Cache external_rust_crates_slab-5.tar.xz
      id: external_rust_crates_slab-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_slab-5.tar.xz
        key: external_rust_crates_slab-5
        restore-keys: external_rust_crates_slab-5
    - name: Clone project external_rust_crates_slab-5.tar.xz
      if: steps.external_rust_crates_slab-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_slab-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_smallvec-5.tar.xz
      id: external_rust_crates_smallvec-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_smallvec-5.tar.xz
        key: external_rust_crates_smallvec-5
        restore-keys: external_rust_crates_smallvec-5
    - name: Clone project external_rust_crates_smallvec-5.tar.xz
      if: steps.external_rust_crates_smallvec-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_smallvec-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_syn-3.tar.xz
      id: external_rust_crates_syn-3
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_syn-3.tar.xz
        key: external_rust_crates_syn-3
        restore-keys: external_rust_crates_syn-3
    - name: Clone project external_rust_crates_syn-3.tar.xz
      if: steps.external_rust_crates_syn-3.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_syn-3.tar.xz android-12.0.0_r1-3

    - name: Restore Cache external_rust_crates_thiserror-impl-4.tar.xz
      id: external_rust_crates_thiserror-impl-4
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_thiserror-impl-4.tar.xz
        key: external_rust_crates_thiserror-impl-4
        restore-keys: external_rust_crates_thiserror-impl-4
    - name: Clone project external_rust_crates_thiserror-impl-4.tar.xz
      if: steps.external_rust_crates_thiserror-impl-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_thiserror-impl-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_rust_crates_thiserror-5.tar.xz
      id: external_rust_crates_thiserror-5
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_thiserror-5.tar.xz
        key: external_rust_crates_thiserror-5
        restore-keys: external_rust_crates_thiserror-5
    - name: Clone project external_rust_crates_thiserror-5.tar.xz
      if: steps.external_rust_crates_thiserror-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_thiserror-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_rust_crates_unicode-xid-0.tar.xz
      id: external_rust_crates_unicode-xid-0
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_unicode-xid-0.tar.xz
        key: external_rust_crates_unicode-xid-0
        restore-keys: external_rust_crates_unicode-xid-0
    - name: Clone project external_rust_crates_unicode-xid-0.tar.xz
      if: steps.external_rust_crates_unicode-xid-0.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_unicode-xid-0.tar.xz android-12.0.0_r1-0

    - name: Restore Cache external_rust_crates_vmm_vhost-8.tar.xz
      id: external_rust_crates_vmm_vhost-8
      uses: actions/cache@v3
      with:
        path: aosp/external_rust_crates_vmm_vhost-8.tar.xz
        key: external_rust_crates_vmm_vhost-8
        restore-keys: external_rust_crates_vmm_vhost-8
    - name: Clone project external_rust_crates_vmm_vhost-8.tar.xz
      if: steps.external_rust_crates_vmm_vhost-8.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_rust_crates_vmm_vhost-8.tar.xz android-12.0.0_r1-8

    - name: Restore Cache external_scudo-0.tar.xz
      id: external_scudo-0
      uses: actions/cache@v3
      with:
        path: aosp/external_scudo-0.tar.xz
        key: external_scudo-0
        restore-keys: external_scudo-0
    - name: Clone project external_scudo-0.tar.xz
      if: steps.external_scudo-0.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_scudo-0.tar.xz android-12.0.0_r1-0

    - name: Restore Cache external_sfntly-7.tar.xz
      id: external_sfntly-7
      uses: actions/cache@v3
      with:
        path: aosp/external_sfntly-7.tar.xz
        key: external_sfntly-7
        restore-keys: external_sfntly-7
    - name: Clone project external_sfntly-7.tar.xz
      if: steps.external_sfntly-7.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_sfntly-7.tar.xz android-12.0.0_r1-7

    - name: Restore Cache external_skia-12.tar.xz
      id: external_skia-12
      uses: actions/cache@v3
      with:
        path: aosp/external_skia-12.tar.xz
        key: external_skia-12
        restore-keys: external_skia-12
    - name: Clone project external_skia-12.tar.xz
      if: steps.external_skia-12.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_skia-12.tar.xz android-12.0.0_r1-12

    - name: Restore Cache external_sonivox-5.tar.xz
      id: external_sonivox-5
      uses: actions/cache@v3
      with:
        path: aosp/external_sonivox-5.tar.xz
        key: external_sonivox-5
        restore-keys: external_sonivox-5
    - name: Clone project external_sonivox-5.tar.xz
      if: steps.external_sonivox-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_sonivox-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_speex-4.tar.xz
      id: external_speex-4
      uses: actions/cache@v3
      with:
        path: aosp/external_speex-4.tar.xz
        key: external_speex-4
        restore-keys: external_speex-4
    - name: Clone project external_speex-4.tar.xz
      if: steps.external_speex-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_speex-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_tremolo-5.tar.xz
      id: external_tremolo-5
      uses: actions/cache@v3
      with:
        path: aosp/external_tremolo-5.tar.xz
        key: external_tremolo-5
        restore-keys: external_tremolo-5
    - name: Clone project external_tremolo-5.tar.xz
      if: steps.external_tremolo-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_tremolo-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_virglrenderer-6.tar.xz
      id: external_virglrenderer-6
      uses: actions/cache@v3
      with:
        path: aosp/external_virglrenderer-6.tar.xz
        key: external_virglrenderer-6
        restore-keys: external_virglrenderer-6
    - name: Clone project external_virglrenderer-6.tar.xz
      if: steps.external_virglrenderer-6.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_virglrenderer-6.tar.xz android-12.0.0_r1-6

    - name: Restore Cache external_vm_tools_p9-11.tar.xz
      id: external_vm_tools_p9-11
      uses: actions/cache@v3
      with:
        path: aosp/external_vm_tools_p9-11.tar.xz
        key: external_vm_tools_p9-11
        restore-keys: external_vm_tools_p9-11
    - name: Clone project external_vm_tools_p9-11.tar.xz
      if: steps.external_vm_tools_p9-11.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_vm_tools_p9-11.tar.xz android-12.0.0_r1-11

    - name: Restore Cache external_wayland-5.tar.xz
      id: external_wayland-5
      uses: actions/cache@v3
      with:
        path: aosp/external_wayland-5.tar.xz
        key: external_wayland-5
        restore-keys: external_wayland-5
    - name: Clone project external_wayland-5.tar.xz
      if: steps.external_wayland-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_wayland-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache external_webp-4.tar.xz
      id: external_webp-4
      uses: actions/cache@v3
      with:
        path: aosp/external_webp-4.tar.xz
        key: external_webp-4
        restore-keys: external_webp-4
    - name: Clone project external_webp-4.tar.xz
      if: steps.external_webp-4.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_webp-4.tar.xz android-12.0.0_r1-4

    - name: Restore Cache external_zlib-2.tar.xz
      id: external_zlib-2
      uses: actions/cache@v3
      with:
        path: aosp/external_zlib-2.tar.xz
        key: external_zlib-2
        restore-keys: external_zlib-2
    - name: Clone project external_zlib-2.tar.xz
      if: steps.external_zlib-2.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release external_zlib-2.tar.xz android-12.0.0_r1-2

    - name: Restore Cache frameworks_av-12.tar.xz
      id: frameworks_av-12
      uses: actions/cache@v3
      with:
        path: aosp/frameworks_av-12.tar.xz
        key: frameworks_av-12
        restore-keys: frameworks_av-12
    - name: Clone project frameworks_av-12.tar.xz
      if: steps.frameworks_av-12.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release frameworks_av-12.tar.xz android-12.0.0_r1-12

    - name: Restore Cache frameworks_base-12.tar.xz
      id: frameworks_base-12
      uses: actions/cache@v3
      with:
        path: aosp/frameworks_base-12.tar.xz
        key: frameworks_base-12
        restore-keys: frameworks_base-12
    - name: Clone project frameworks_base-12.tar.xz
      if: steps.frameworks_base-12.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release frameworks_base-12.tar.xz android-12.0.0_r1-12

    - name: Restore Cache frameworks_compile_slang-8.tar.xz
      id: frameworks_compile_slang-8
      uses: actions/cache@v3
      with:
        path: aosp/frameworks_compile_slang-8.tar.xz
        key: frameworks_compile_slang-8
        restore-keys: frameworks_compile_slang-8
    - name: Clone project frameworks_compile_slang-8.tar.xz
      if: steps.frameworks_compile_slang-8.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release frameworks_compile_slang-8.tar.xz android-12.0.0_r1-8

    - name: Restore Cache frameworks_hardware_interfaces-10.tar.xz
      id: frameworks_hardware_interfaces-10
      uses: actions/cache@v3
      with:
        path: aosp/frameworks_hardware_interfaces-10.tar.xz
        key: frameworks_hardware_interfaces-10
        restore-keys: frameworks_hardware_interfaces-10
    - name: Clone project frameworks_hardware_interfaces-10.tar.xz
      if: steps.frameworks_hardware_interfaces-10.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release frameworks_hardware_interfaces-10.tar.xz android-12.0.0_r1-10

    - name: Restore Cache frameworks_native-11.tar.xz
      id: frameworks_native-11
      uses: actions/cache@v3
      with:
        path: aosp/frameworks_native-11.tar.xz
        key: frameworks_native-11
        restore-keys: frameworks_native-11
    - name: Clone project frameworks_native-11.tar.xz
      if: steps.frameworks_native-11.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release frameworks_native-11.tar.xz android-12.0.0_r1-11

    - name: Restore Cache frameworks_rs-12.tar.xz
      id: frameworks_rs-12
      uses: actions/cache@v3
      with:
        path: aosp/frameworks_rs-12.tar.xz
        key: frameworks_rs-12
        restore-keys: frameworks_rs-12
    - name: Clone project frameworks_rs-12.tar.xz
      if: steps.frameworks_rs-12.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release frameworks_rs-12.tar.xz android-12.0.0_r1-12

    - name: Restore Cache hardware_interfaces-11.tar.xz
      id: hardware_interfaces-11
      uses: actions/cache@v3
      with:
        path: aosp/hardware_interfaces-11.tar.xz
        key: hardware_interfaces-11
        restore-keys: hardware_interfaces-11
    - name: Clone project hardware_interfaces-11.tar.xz
      if: steps.hardware_interfaces-11.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release hardware_interfaces-11.tar.xz android-12.0.0_r1-11

    - name: Restore Cache hardware_libhardware-10.tar.xz
      id: hardware_libhardware-10
      uses: actions/cache@v3
      with:
        path: aosp/hardware_libhardware-10.tar.xz
        key: hardware_libhardware-10
        restore-keys: hardware_libhardware-10
    - name: Clone project hardware_libhardware-10.tar.xz
      if: steps.hardware_libhardware-10.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release hardware_libhardware-10.tar.xz android-12.0.0_r1-10

    - name: Restore Cache libnativehelper-5.tar.xz
      id: libnativehelper-5
      uses: actions/cache@v3
      with:
        path: aosp/libnativehelper-5.tar.xz
        key: libnativehelper-5
        restore-keys: libnativehelper-5
    - name: Clone project libnativehelper-5.tar.xz
      if: steps.libnativehelper-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release libnativehelper-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache packages_modules_NeuralNetworks-12.tar.xz
      id: packages_modules_NeuralNetworks-12
      uses: actions/cache@v3
      with:
        path: aosp/packages_modules_NeuralNetworks-12.tar.xz
        key: packages_modules_NeuralNetworks-12
        restore-keys: packages_modules_NeuralNetworks-12
    - name: Clone project packages_modules_NeuralNetworks-12.tar.xz
      if: steps.packages_modules_NeuralNetworks-12.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release packages_modules_NeuralNetworks-12.tar.xz android-12.0.0_r1-12

    - name: Restore Cache system_core-12.tar.xz
      id: system_core-12
      uses: actions/cache@v3
      with:
        path: aosp/system_core-12.tar.xz
        key: system_core-12
        restore-keys: system_core-12
    - name: Clone project system_core-12.tar.xz
      if: steps.system_core-12.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_core-12.tar.xz android-12.0.0_r1-12

    - name: Restore Cache system_libbase-5.tar.xz
      id: system_libbase-5
      uses: actions/cache@v3
      with:
        path: aosp/system_libbase-5.tar.xz
        key: system_libbase-5
        restore-keys: system_libbase-5
    - name: Clone project system_libbase-5.tar.xz
      if: steps.system_libbase-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_libbase-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache system_libfmq-7.tar.xz
      id: system_libfmq-7
      uses: actions/cache@v3
      with:
        path: aosp/system_libfmq-7.tar.xz
        key: system_libfmq-7
        restore-keys: system_libfmq-7
    - name: Clone project system_libfmq-7.tar.xz
      if: steps.system_libfmq-7.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_libfmq-7.tar.xz android-12.0.0_r1-7

    - name: Restore Cache system_libhidl-8.tar.xz
      id: system_libhidl-8
      uses: actions/cache@v3
      with:
        path: aosp/system_libhidl-8.tar.xz
        key: system_libhidl-8
        restore-keys: system_libhidl-8
    - name: Clone project system_libhidl-8.tar.xz
      if: steps.system_libhidl-8.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_libhidl-8.tar.xz android-12.0.0_r1-8

    - name: Restore Cache system_libhwbinder-7.tar.xz
      id: system_libhwbinder-7
      uses: actions/cache@v3
      with:
        path: aosp/system_libhwbinder-7.tar.xz
        key: system_libhwbinder-7
        restore-keys: system_libhwbinder-7
    - name: Clone project system_libhwbinder-7.tar.xz
      if: steps.system_libhwbinder-7.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_libhwbinder-7.tar.xz android-12.0.0_r1-7

    - name: Restore Cache system_libprocinfo-6.tar.xz
      id: system_libprocinfo-6
      uses: actions/cache@v3
      with:
        path: aosp/system_libprocinfo-6.tar.xz
        key: system_libprocinfo-6
        restore-keys: system_libprocinfo-6
    - name: Clone project system_libprocinfo-6.tar.xz
      if: steps.system_libprocinfo-6.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_libprocinfo-6.tar.xz android-12.0.0_r1-6

    - name: Restore Cache system_libziparchive-6.tar.xz
      id: system_libziparchive-6
      uses: actions/cache@v3
      with:
        path: aosp/system_libziparchive-6.tar.xz
        key: system_libziparchive-6
        restore-keys: system_libziparchive-6
    - name: Clone project system_libziparchive-6.tar.xz
      if: steps.system_libziparchive-6.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_libziparchive-6.tar.xz android-12.0.0_r1-6

    - name: Restore Cache system_logging-9.tar.xz
      id: system_logging-9
      uses: actions/cache@v3
      with:
        path: aosp/system_logging-9.tar.xz
        key: system_logging-9
        restore-keys: system_logging-9
    - name: Clone project system_logging-9.tar.xz
      if: steps.system_logging-9.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_logging-9.tar.xz android-12.0.0_r1-9

    - name: Restore Cache system_media-7.tar.xz
      id: system_media-7
      uses: actions/cache@v3
      with:
        path: aosp/system_media-7.tar.xz
        key: system_media-7
        restore-keys: system_media-7
    - name: Clone project system_media-7.tar.xz
      if: steps.system_media-7.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_media-7.tar.xz android-12.0.0_r1-7

    - name: Restore Cache system_memory_libdmabufheap-7.tar.xz
      id: system_memory_libdmabufheap-7
      uses: actions/cache@v3
      with:
        path: aosp/system_memory_libdmabufheap-7.tar.xz
        key: system_memory_libdmabufheap-7
        restore-keys: system_memory_libdmabufheap-7
    - name: Clone project system_memory_libdmabufheap-7.tar.xz
      if: steps.system_memory_libdmabufheap-7.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_memory_libdmabufheap-7.tar.xz android-12.0.0_r1-7

    - name: Restore Cache system_memory_libion-5.tar.xz
      id: system_memory_libion-5
      uses: actions/cache@v3
      with:
        path: aosp/system_memory_libion-5.tar.xz
        key: system_memory_libion-5
        restore-keys: system_memory_libion-5
    - name: Clone project system_memory_libion-5.tar.xz
      if: steps.system_memory_libion-5.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_memory_libion-5.tar.xz android-12.0.0_r1-5

    - name: Restore Cache system_memory_libmemunreachable-7.tar.xz
      id: system_memory_libmemunreachable-7
      uses: actions/cache@v3
      with:
        path: aosp/system_memory_libmemunreachable-7.tar.xz
        key: system_memory_libmemunreachable-7
        restore-keys: system_memory_libmemunreachable-7
    - name: Clone project system_memory_libmemunreachable-7.tar.xz
      if: steps.system_memory_libmemunreachable-7.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_memory_libmemunreachable-7.tar.xz android-12.0.0_r1-7

    - name: Restore Cache system_netd-10.tar.xz
      id: system_netd-10
      uses: actions/cache@v3
      with:
        path: aosp/system_netd-10.tar.xz
        key: system_netd-10
        restore-keys: system_netd-10
    - name: Clone project system_netd-10.tar.xz
      if: steps.system_netd-10.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_netd-10.tar.xz android-12.0.0_r1-10

    - name: Restore Cache system_tools_aidl-8.tar.xz
      id: system_tools_aidl-8
      uses: actions/cache@v3
      with:
        path: aosp/system_tools_aidl-8.tar.xz
        key: system_tools_aidl-8
        restore-keys: system_tools_aidl-8
    - name: Clone project system_tools_aidl-8.tar.xz
      if: steps.system_tools_aidl-8.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_tools_aidl-8.tar.xz android-12.0.0_r1-8

    - name: Restore Cache system_tools_hidl-11.tar.xz
      id: system_tools_hidl-11
      uses: actions/cache@v3
      with:
        path: aosp/system_tools_hidl-11.tar.xz
        key: system_tools_hidl-11
        restore-keys: system_tools_hidl-11
    - name: Clone project system_tools_hidl-11.tar.xz
      if: steps.system_tools_hidl-11.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_tools_hidl-11.tar.xz android-12.0.0_r1-11

    - name: Restore Cache system_tools_sysprop-7.tar.xz
      id: system_tools_sysprop-7
      uses: actions/cache@v3
      with:
        path: aosp/system_tools_sysprop-7.tar.xz
        key: system_tools_sysprop-7
        restore-keys: system_tools_sysprop-7
    - name: Clone project system_tools_sysprop-7.tar.xz
      if: steps.system_tools_sysprop-7.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_tools_sysprop-7.tar.xz android-12.0.0_r1-7

    - name: Restore Cache system_unwinding-9.tar.xz
      id: system_unwinding-9
      uses: actions/cache@v3
      with:
        path: aosp/system_unwinding-9.tar.xz
        key: system_unwinding-9
        restore-keys: system_unwinding-9
    - name: Clone project system_unwinding-9.tar.xz
      if: steps.system_unwinding-9.outputs.cache-hit != 'true'
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        download_release system_unwinding-9.tar.xz android-12.0.0_r1-9

    - name: Extract Artifacts and Calculate Size
      run: |
        cd aosp && source $GITHUB_WORKSPACE/envsetup.sh
        extract_tar art-11.tar.xz art/ && du -ah -d1 prebuiltlibs/art/|sort -rh
        extract_tar bionic-11.tar.xz bionic/ && du -ah -d1 prebuiltlibs/bionic/|sort -rh
        extract_tar device_generic_vulkan-cereal-12.tar.xz device/generic/vulkan-cereal/ && du -ah -d1 prebuiltlibs/device/generic/vulkan-cereal/|sort -rh
        extract_tar external_adhd-8.tar.xz external/adhd/ && du -ah -d1 prebuiltlibs/external/adhd/|sort -rh
        extract_tar external_arm-optimized-routines-0.tar.xz external/arm-optimized-routines/ && du -ah -d1 prebuiltlibs/external/arm-optimized-routines/|sort -rh
        extract_tar external_boringssl-4.tar.xz external/boringssl/ && du -ah -d1 prebuiltlibs/external/boringssl/|sort -rh
        extract_tar external_crosvm-10.tar.xz external/crosvm/ && du -ah -d1 prebuiltlibs/external/crosvm/|sort -rh
        extract_tar external_dng_sdk-5.tar.xz external/dng_sdk/ && du -ah -d1 prebuiltlibs/external/dng_sdk/|sort -rh
        extract_tar external_dtc-4.tar.xz external/dtc/ && du -ah -d1 prebuiltlibs/external/dtc/|sort -rh
        extract_tar external_dynamic_depth-8.tar.xz external/dynamic_depth/ && du -ah -d1 prebuiltlibs/external/dynamic_depth/|sort -rh
        extract_tar external_expat-2.tar.xz external/expat/ && du -ah -d1 prebuiltlibs/external/expat/|sort -rh
        extract_tar external_flac-4.tar.xz external/flac/ && du -ah -d1 prebuiltlibs/external/flac/|sort -rh
        extract_tar external_fmtlib-4.tar.xz external/fmtlib/ && du -ah -d1 prebuiltlibs/external/fmtlib/|sort -rh
        extract_tar external_freetype-5.tar.xz external/freetype/ && du -ah -d1 prebuiltlibs/external/freetype/|sort -rh
        extract_tar external_gwp_asan-4.tar.xz external/gwp_asan/ && du -ah -d1 prebuiltlibs/external/gwp_asan/|sort -rh
        extract_tar external_icu-6.tar.xz external/icu/ && du -ah -d1 prebuiltlibs/external/icu/|sort -rh
        extract_tar external_image_io-5.tar.xz external/image_io/ && du -ah -d1 prebuiltlibs/external/image_io/|sort -rh
        extract_tar external_jsoncpp-4.tar.xz external/jsoncpp/ && du -ah -d1 prebuiltlibs/external/jsoncpp/|sort -rh
        extract_tar external_libcap-4.tar.xz external/libcap/ && du -ah -d1 prebuiltlibs/external/libcap/|sort -rh
        extract_tar external_libchromeos-rs-10.tar.xz external/libchromeos-rs/ && du -ah -d1 prebuiltlibs/external/libchromeos-rs/|sort -rh
        extract_tar external_libcxx-3.tar.xz external/libcxx/ && du -ah -d1 prebuiltlibs/external/libcxx/|sort -rh
        extract_tar external_libcxxabi-2.tar.xz external/libcxxabi/ && du -ah -d1 prebuiltlibs/external/libcxxabi/|sort -rh
        extract_tar external_libdrm-4.tar.xz external/libdrm/ && du -ah -d1 prebuiltlibs/external/libdrm/|sort -rh
        extract_tar external_libepoxy-4.tar.xz external/libepoxy/ && du -ah -d1 prebuiltlibs/external/libepoxy/|sort -rh
        extract_tar external_libexif-5.tar.xz external/libexif/ && du -ah -d1 prebuiltlibs/external/libexif/|sort -rh
        extract_tar external_libffi-4.tar.xz external/libffi/ && du -ah -d1 prebuiltlibs/external/libffi/|sort -rh
        extract_tar external_libjpeg-turbo-4.tar.xz external/libjpeg-turbo/ && du -ah -d1 prebuiltlibs/external/libjpeg-turbo/|sort -rh
        extract_tar external_libogg-4.tar.xz external/libogg/ && du -ah -d1 prebuiltlibs/external/libogg/|sort -rh
        extract_tar external_libpng-4.tar.xz external/libpng/ && du -ah -d1 prebuiltlibs/external/libpng/|sort -rh
        extract_tar external_libvpx-4.tar.xz external/libvpx/ && du -ah -d1 prebuiltlibs/external/libvpx/|sort -rh
        extract_tar external_libxml2-7.tar.xz external/libxml2/ && du -ah -d1 prebuiltlibs/external/libxml2/|sort -rh
        extract_tar external_libyuv-5.tar.xz external/libyuv/ && du -ah -d1 prebuiltlibs/external/libyuv/|sort -rh
        extract_tar external_minigbm-12.tar.xz external/minigbm/ && du -ah -d1 prebuiltlibs/external/minigbm/|sort -rh
        extract_tar external_minijail-6.tar.xz external/minijail/ && du -ah -d1 prebuiltlibs/external/minijail/|sort -rh
        extract_tar external_modp_b64-4.tar.xz external/modp_b64/ && du -ah -d1 prebuiltlibs/external/modp_b64/|sort -rh
        extract_tar external_perfetto-10.tar.xz external/perfetto/ && du -ah -d1 prebuiltlibs/external/perfetto/|sort -rh
        extract_tar external_piex-4.tar.xz external/piex/ && du -ah -d1 prebuiltlibs/external/piex/|sort -rh
        extract_tar external_protobuf-5.tar.xz external/protobuf/ && du -ah -d1 prebuiltlibs/external/protobuf/|sort -rh
        extract_tar external_rust_crates_android_log-sys-5.tar.xz external/rust/crates/android_log-sys/ && du -ah -d1 prebuiltlibs/external/rust/crates/android_log-sys/|sort -rh
        extract_tar external_rust_crates_async-task-5.tar.xz external/rust/crates/async-task/ && du -ah -d1 prebuiltlibs/external/rust/crates/async-task/|sort -rh
        extract_tar external_rust_crates_async-trait-4.tar.xz external/rust/crates/async-trait/ && du -ah -d1 prebuiltlibs/external/rust/crates/async-trait/|sort -rh
        extract_tar external_rust_crates_bitflags-5.tar.xz external/rust/crates/bitflags/ && du -ah -d1 prebuiltlibs/external/rust/crates/bitflags/|sort -rh
        extract_tar external_rust_crates_bytes-0.tar.xz external/rust/crates/bytes/ && du -ah -d1 prebuiltlibs/external/rust/crates/bytes/|sort -rh
        extract_tar external_rust_crates_cfg-if-5.tar.xz external/rust/crates/cfg-if/ && du -ah -d1 prebuiltlibs/external/rust/crates/cfg-if/|sort -rh
        extract_tar external_rust_crates_downcast-rs-0.tar.xz external/rust/crates/downcast-rs/ && du -ah -d1 prebuiltlibs/external/rust/crates/downcast-rs/|sort -rh
        extract_tar external_rust_crates_futures-channel-6.tar.xz external/rust/crates/futures-channel/ && du -ah -d1 prebuiltlibs/external/rust/crates/futures-channel/|sort -rh
        extract_tar external_rust_crates_futures-core-5.tar.xz external/rust/crates/futures-core/ && du -ah -d1 prebuiltlibs/external/rust/crates/futures-core/|sort -rh
        extract_tar external_rust_crates_futures-executor-8.tar.xz external/rust/crates/futures-executor/ && du -ah -d1 prebuiltlibs/external/rust/crates/futures-executor/|sort -rh
        extract_tar external_rust_crates_futures-io-5.tar.xz external/rust/crates/futures-io/ && du -ah -d1 prebuiltlibs/external/rust/crates/futures-io/|sort -rh
        extract_tar external_rust_crates_futures-macro-4.tar.xz external/rust/crates/futures-macro/ && du -ah -d1 prebuiltlibs/external/rust/crates/futures-macro/|sort -rh
        extract_tar external_rust_crates_futures-sink-5.tar.xz external/rust/crates/futures-sink/ && du -ah -d1 prebuiltlibs/external/rust/crates/futures-sink/|sort -rh
        extract_tar external_rust_crates_futures-task-5.tar.xz external/rust/crates/futures-task/ && du -ah -d1 prebuiltlibs/external/rust/crates/futures-task/|sort -rh
        extract_tar external_rust_crates_futures-util-7.tar.xz external/rust/crates/futures-util/ && du -ah -d1 prebuiltlibs/external/rust/crates/futures-util/|sort -rh
        extract_tar external_rust_crates_futures-9.tar.xz external/rust/crates/futures/ && du -ah -d1 prebuiltlibs/external/rust/crates/futures/|sort -rh
        extract_tar external_rust_crates_intrusive-collections-6.tar.xz external/rust/crates/intrusive-collections/ && du -ah -d1 prebuiltlibs/external/rust/crates/intrusive-collections/|sort -rh
        extract_tar external_rust_crates_itoa-5.tar.xz external/rust/crates/itoa/ && du -ah -d1 prebuiltlibs/external/rust/crates/itoa/|sort -rh
        extract_tar external_rust_crates_libc-5.tar.xz external/rust/crates/libc/ && du -ah -d1 prebuiltlibs/external/rust/crates/libc/|sort -rh
        extract_tar external_rust_crates_log-6.tar.xz external/rust/crates/log/ && du -ah -d1 prebuiltlibs/external/rust/crates/log/|sort -rh
        extract_tar external_rust_crates_memchr-5.tar.xz external/rust/crates/memchr/ && du -ah -d1 prebuiltlibs/external/rust/crates/memchr/|sort -rh
        extract_tar external_rust_crates_memoffset-5.tar.xz external/rust/crates/memoffset/ && du -ah -d1 prebuiltlibs/external/rust/crates/memoffset/|sort -rh
        extract_tar external_rust_crates_num_cpus-6.tar.xz external/rust/crates/num_cpus/ && du -ah -d1 prebuiltlibs/external/rust/crates/num_cpus/|sort -rh
        extract_tar external_rust_crates_paste-0.tar.xz external/rust/crates/paste/ && du -ah -d1 prebuiltlibs/external/rust/crates/paste/|sort -rh
        extract_tar external_rust_crates_pin-project-lite-5.tar.xz external/rust/crates/pin-project-lite/ && du -ah -d1 prebuiltlibs/external/rust/crates/pin-project-lite/|sort -rh
        extract_tar external_rust_crates_pin-utils-5.tar.xz external/rust/crates/pin-utils/ && du -ah -d1 prebuiltlibs/external/rust/crates/pin-utils/|sort -rh
        extract_tar external_rust_crates_proc-macro-hack-0.tar.xz external/rust/crates/proc-macro-hack/ && du -ah -d1 prebuiltlibs/external/rust/crates/proc-macro-hack/|sort -rh
        extract_tar external_rust_crates_proc-macro-nested-5.tar.xz external/rust/crates/proc-macro-nested/ && du -ah -d1 prebuiltlibs/external/rust/crates/proc-macro-nested/|sort -rh
        extract_tar external_rust_crates_proc-macro2-1.tar.xz external/rust/crates/proc-macro2/ && du -ah -d1 prebuiltlibs/external/rust/crates/proc-macro2/|sort -rh
        extract_tar external_rust_crates_protobuf-codegen-2.tar.xz external/rust/crates/protobuf-codegen/ && du -ah -d1 prebuiltlibs/external/rust/crates/protobuf-codegen/|sort -rh
        extract_tar external_rust_crates_protobuf-1.tar.xz external/rust/crates/protobuf/ && du -ah -d1 prebuiltlibs/external/rust/crates/protobuf/|sort -rh
        extract_tar external_rust_crates_quote-2.tar.xz external/rust/crates/quote/ && du -ah -d1 prebuiltlibs/external/rust/crates/quote/|sort -rh
        extract_tar external_rust_crates_remain-4.tar.xz external/rust/crates/remain/ && du -ah -d1 prebuiltlibs/external/rust/crates/remain/|sort -rh
        extract_tar external_rust_crates_ryu-5.tar.xz external/rust/crates/ryu/ && du -ah -d1 prebuiltlibs/external/rust/crates/ryu/|sort -rh
        extract_tar external_rust_crates_serde-5.tar.xz external/rust/crates/serde/ && du -ah -d1 prebuiltlibs/external/rust/crates/serde/|sort -rh
        extract_tar external_rust_crates_serde_derive-4.tar.xz external/rust/crates/serde_derive/ && du -ah -d1 prebuiltlibs/external/rust/crates/serde_derive/|sort -rh
        extract_tar external_rust_crates_serde_json-6.tar.xz external/rust/crates/serde_json/ && du -ah -d1 prebuiltlibs/external/rust/crates/serde_json/|sort -rh
        extract_tar external_rust_crates_slab-5.tar.xz external/rust/crates/slab/ && du -ah -d1 prebuiltlibs/external/rust/crates/slab/|sort -rh
        extract_tar external_rust_crates_smallvec-5.tar.xz external/rust/crates/smallvec/ && du -ah -d1 prebuiltlibs/external/rust/crates/smallvec/|sort -rh
        extract_tar external_rust_crates_syn-3.tar.xz external/rust/crates/syn/ && du -ah -d1 prebuiltlibs/external/rust/crates/syn/|sort -rh
        extract_tar external_rust_crates_thiserror-impl-4.tar.xz external/rust/crates/thiserror-impl/ && du -ah -d1 prebuiltlibs/external/rust/crates/thiserror-impl/|sort -rh
        extract_tar external_rust_crates_thiserror-5.tar.xz external/rust/crates/thiserror/ && du -ah -d1 prebuiltlibs/external/rust/crates/thiserror/|sort -rh
        extract_tar external_rust_crates_unicode-xid-0.tar.xz external/rust/crates/unicode-xid/ && du -ah -d1 prebuiltlibs/external/rust/crates/unicode-xid/|sort -rh
        extract_tar external_rust_crates_vmm_vhost-8.tar.xz external/rust/crates/vmm_vhost/ && du -ah -d1 prebuiltlibs/external/rust/crates/vmm_vhost/|sort -rh
        extract_tar external_scudo-0.tar.xz external/scudo/ && du -ah -d1 prebuiltlibs/external/scudo/|sort -rh
        extract_tar external_sfntly-7.tar.xz external/sfntly/ && du -ah -d1 prebuiltlibs/external/sfntly/|sort -rh
        extract_tar external_skia-12.tar.xz external/skia/ && du -ah -d1 prebuiltlibs/external/skia/|sort -rh
        extract_tar external_sonivox-5.tar.xz external/sonivox/ && du -ah -d1 prebuiltlibs/external/sonivox/|sort -rh
        extract_tar external_speex-4.tar.xz external/speex/ && du -ah -d1 prebuiltlibs/external/speex/|sort -rh
        extract_tar external_tremolo-5.tar.xz external/tremolo/ && du -ah -d1 prebuiltlibs/external/tremolo/|sort -rh
        extract_tar external_virglrenderer-6.tar.xz external/virglrenderer/ && du -ah -d1 prebuiltlibs/external/virglrenderer/|sort -rh
        extract_tar external_vm_tools_p9-11.tar.xz external/vm_tools/p9/ && du -ah -d1 prebuiltlibs/external/vm_tools/p9/|sort -rh
        extract_tar external_wayland-5.tar.xz external/wayland/ && du -ah -d1 prebuiltlibs/external/wayland/|sort -rh
        extract_tar external_webp-4.tar.xz external/webp/ && du -ah -d1 prebuiltlibs/external/webp/|sort -rh
        extract_tar external_zlib-2.tar.xz external/zlib/ && du -ah -d1 prebuiltlibs/external/zlib/|sort -rh
        extract_tar frameworks_av-12.tar.xz frameworks/av/ && du -ah -d1 prebuiltlibs/frameworks/av/|sort -rh
        extract_tar frameworks_base-12.tar.xz frameworks/base/ && du -ah -d1 prebuiltlibs/frameworks/base/|sort -rh
        extract_tar frameworks_compile_slang-8.tar.xz frameworks/compile/slang/ && du -ah -d1 prebuiltlibs/frameworks/compile/slang/|sort -rh
        extract_tar frameworks_hardware_interfaces-10.tar.xz frameworks/hardware/interfaces/ && du -ah -d1 prebuiltlibs/frameworks/hardware/interfaces/|sort -rh
        extract_tar frameworks_native-11.tar.xz frameworks/native/ && du -ah -d1 prebuiltlibs/frameworks/native/|sort -rh
        extract_tar frameworks_rs-12.tar.xz frameworks/rs/ && du -ah -d1 prebuiltlibs/frameworks/rs/|sort -rh
        extract_tar hardware_interfaces-11.tar.xz hardware/interfaces/ && du -ah -d1 prebuiltlibs/hardware/interfaces/|sort -rh
        extract_tar hardware_libhardware-10.tar.xz hardware/libhardware/ && du -ah -d1 prebuiltlibs/hardware/libhardware/|sort -rh
        extract_tar libnativehelper-5.tar.xz libnativehelper/ && du -ah -d1 prebuiltlibs/libnativehelper/|sort -rh
        extract_tar packages_modules_NeuralNetworks-12.tar.xz packages/modules/NeuralNetworks/ && du -ah -d1 prebuiltlibs/packages/modules/NeuralNetworks/|sort -rh
        extract_tar system_core-12.tar.xz system/core/ && du -ah -d1 prebuiltlibs/system/core/|sort -rh
        extract_tar system_libbase-5.tar.xz system/libbase/ && du -ah -d1 prebuiltlibs/system/libbase/|sort -rh
        extract_tar system_libfmq-7.tar.xz system/libfmq/ && du -ah -d1 prebuiltlibs/system/libfmq/|sort -rh
        extract_tar system_libhidl-8.tar.xz system/libhidl/ && du -ah -d1 prebuiltlibs/system/libhidl/|sort -rh
        extract_tar system_libhwbinder-7.tar.xz system/libhwbinder/ && du -ah -d1 prebuiltlibs/system/libhwbinder/|sort -rh
        extract_tar system_libprocinfo-6.tar.xz system/libprocinfo/ && du -ah -d1 prebuiltlibs/system/libprocinfo/|sort -rh
        extract_tar system_libziparchive-6.tar.xz system/libziparchive/ && du -ah -d1 prebuiltlibs/system/libziparchive/|sort -rh
        extract_tar system_logging-9.tar.xz system/logging/ && du -ah -d1 prebuiltlibs/system/logging/|sort -rh
        extract_tar system_media-7.tar.xz system/media/ && du -ah -d1 prebuiltlibs/system/media/|sort -rh
        extract_tar system_memory_libdmabufheap-7.tar.xz system/memory/libdmabufheap/ && du -ah -d1 prebuiltlibs/system/memory/libdmabufheap/|sort -rh
        extract_tar system_memory_libion-5.tar.xz system/memory/libion/ && du -ah -d1 prebuiltlibs/system/memory/libion/|sort -rh
        extract_tar system_memory_libmemunreachable-7.tar.xz system/memory/libmemunreachable/ && du -ah -d1 prebuiltlibs/system/memory/libmemunreachable/|sort -rh
        extract_tar system_netd-10.tar.xz system/netd/ && du -ah -d1 prebuiltlibs/system/netd/|sort -rh
        extract_tar system_tools_aidl-8.tar.xz system/tools/aidl/ && du -ah -d1 prebuiltlibs/system/tools/aidl/|sort -rh
        extract_tar system_tools_hidl-11.tar.xz system/tools/hidl/ && du -ah -d1 prebuiltlibs/system/tools/hidl/|sort -rh
        extract_tar system_tools_sysprop-7.tar.xz system/tools/sysprop/ && du -ah -d1 prebuiltlibs/system/tools/sysprop/|sort -rh
        extract_tar system_unwinding-9.tar.xz system/unwinding/ && du -ah -d1 prebuiltlibs/system/unwinding/|sort -rh
        du -ah -d1 art/|sort -rh && rm -rf art/.git
        du -ah -d1 bionic/|sort -rh && rm -rf bionic/.git
        du -ah -d1 build/blueprint/|sort -rh && rm -rf build/blueprint/.git
        du -ah -d1 build/make/|sort -rh && rm -rf build/make/.git
        du -ah -d1 build/soong/|sort -rh && rm -rf build/soong/.git
        du -ah -d1 device/generic/vulkan-cereal/|sort -rh && rm -rf device/generic/vulkan-cereal/.git
        du -ah -d1 external/crosvm/|sort -rh && rm -rf external/crosvm/.git
        du -ah -d1 external/dynamic_depth/|sort -rh && rm -rf external/dynamic_depth/.git
        du -ah -d1 external/flac/|sort -rh && rm -rf external/flac/.git
        du -ah -d1 external/golang-protobuf/|sort -rh && rm -rf external/golang-protobuf/.git
        du -ah -d1 external/googletest/|sort -rh && rm -rf external/googletest/.git
        du -ah -d1 external/gwp_asan/|sort -rh && rm -rf external/gwp_asan/.git
        du -ah -d1 external/icu/|sort -rh && rm -rf external/icu/.git
        du -ah -d1 external/image_io/|sort -rh && rm -rf external/image_io/.git
        du -ah -d1 external/libdrm/|sort -rh && rm -rf external/libdrm/.git
        du -ah -d1 external/libvpx/|sort -rh && rm -rf external/libvpx/.git
        du -ah -d1 external/protobuf/|sort -rh && rm -rf external/protobuf/.git
        du -ah -d1 external/rust/crates/cfg-if/|sort -rh && rm -rf external/rust/crates/cfg-if/.git
        du -ah -d1 external/rust/crates/gdbstub/|sort -rh && rm -rf external/rust/crates/gdbstub/.git
        du -ah -d1 external/rust/crates/log/|sort -rh && rm -rf external/rust/crates/log/.git
        du -ah -d1 external/rust/crates/managed/|sort -rh && rm -rf external/rust/crates/managed/.git
        du -ah -d1 external/rust/crates/num-traits/|sort -rh && rm -rf external/rust/crates/num-traits/.git
        du -ah -d1 external/rust/crates/paste/|sort -rh && rm -rf external/rust/crates/paste/.git
        du -ah -d1 external/skia/|sort -rh && rm -rf external/skia/.git
        du -ah -d1 external/starlark-go/|sort -rh && rm -rf external/starlark-go/.git
        du -ah -d1 external/tremolo/|sort -rh && rm -rf external/tremolo/.git
        du -ah -d1 external/vulkan-headers/|sort -rh && rm -rf external/vulkan-headers/.git
        du -ah -d1 external/webp/|sort -rh && rm -rf external/webp/.git
        du -ah -d1 frameworks/av/|sort -rh && rm -rf frameworks/av/.git
        du -ah -d1 frameworks/base/|sort -rh && rm -rf frameworks/base/.git
        du -ah -d1 frameworks/hardware/interfaces/|sort -rh && rm -rf frameworks/hardware/interfaces/.git
        du -ah -d1 frameworks/native/|sort -rh && rm -rf frameworks/native/.git
        du -ah -d1 frameworks/rs/|sort -rh && rm -rf frameworks/rs/.git
        du -ah -d1 hardware/interfaces/|sort -rh && rm -rf hardware/interfaces/.git
        du -ah -d1 hardware/libhardware/|sort -rh && rm -rf hardware/libhardware/.git
        du -ah -d1 kernel/configs/|sort -rh && rm -rf kernel/configs/.git
        du -ah -d1 libnativehelper/|sort -rh && rm -rf libnativehelper/.git
        du -ah -d1 packages/modules/DnsResolver/|sort -rh && rm -rf packages/modules/DnsResolver/.git
        du -ah -d1 packages/modules/NeuralNetworks/|sort -rh && rm -rf packages/modules/NeuralNetworks/.git
        du -ah -d1 prebuilts/build-tools/|sort -rh && rm -rf prebuilts/build-tools/.git
        du -ah -d1 prebuilts/clang-tools/|sort -rh && rm -rf prebuilts/clang-tools/.git
        du -ah -d1 prebuilts/clang/host/linux-x86/|sort -rh && rm -rf prebuilts/clang/host/linux-x86/.git
        du -ah -d1 prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.17-4.8/|sort -rh && rm -rf prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.17-4.8/.git
        du -ah -d1 prebuilts/misc/|sort -rh && rm -rf prebuilts/misc/.git
        du -ah -d1 prebuilts/ndk/|sort -rh && rm -rf prebuilts/ndk/.git
        du -ah -d1 prebuilts/rust/|sort -rh && rm -rf prebuilts/rust/.git
        du -ah -d1 system/apex/|sort -rh && rm -rf system/apex/.git
        du -ah -d1 system/bt/|sort -rh && rm -rf system/bt/.git
        du -ah -d1 system/core/|sort -rh && rm -rf system/core/.git
        du -ah -d1 system/libbase/|sort -rh && rm -rf system/libbase/.git
        du -ah -d1 system/libfmq/|sort -rh && rm -rf system/libfmq/.git
        du -ah -d1 system/libhidl/|sort -rh && rm -rf system/libhidl/.git
        du -ah -d1 system/libhwbinder/|sort -rh && rm -rf system/libhwbinder/.git
        du -ah -d1 system/libsysprop/|sort -rh && rm -rf system/libsysprop/.git
        du -ah -d1 system/logging/|sort -rh && rm -rf system/logging/.git
        du -ah -d1 system/media/|sort -rh && rm -rf system/media/.git
        du -ah -d1 system/netd/|sort -rh && rm -rf system/netd/.git
        du -ah -d1 system/sepolicy/|sort -rh && rm -rf system/sepolicy/.git
        du -ah -d1 system/tools/aidl/|sort -rh && rm -rf system/tools/aidl/.git
        du -ah -d1 system/tools/hidl/|sort -rh && rm -rf system/tools/hidl/.git
        du -ah -d1 system/unwinding/|sort -rh && rm -rf system/unwinding/.git

    - name: Start Soong
      run: |
        pushd aosp
        export TOP=$(pwd)
        cp build/make/core/root.mk Makefile
        ln -sf make/CleanSpec.mk build/ && ln -sf make/core build/
        ln -sf make/target build/ && ln -sf make/tools build/
        ln -sf build/soong/root.bp Android.bp
        mkdir -p prebuilts/jdk && touch prebuilts/jdk/.find-ignore
        mkdir -p prebuilts/jdk/jdk8 && mkdir -p prebuilts/jdk/jdk11
        ln -sf $JAVA_HOME_8_X64 prebuilts/jdk/jdk8/linux-x86
        ln -sf $JAVA_HOME_11_X64 prebuilts/jdk/jdk11/linux-x86
        mkdir -p prebuilts/go && touch prebuilts/go/.find-ignore
        ln -sf $GOROOT_1_19_X64 prebuilts/go/linux-x86
        mkdir -p out/soong/.minibootstrap out/soong/.bootstrap/bin
        ln -sf $GITHUB_WORKSPACE/soong_build out/soong/.bootstrap/bin
        ln -sf $GITHUB_WORKSPACE/bpglob out/soong/.minibootstrap
        cp $GITHUB_WORKSPACE/ckati prebuilts/build-tools/linux-x86/bin
        mkdir -p prebuiltlibs && cp $GITHUB_WORKSPACE/Android.bp prebuiltlibs/
        mkdir -p prebuiltlibs && cp $GITHUB_WORKSPACE/rust_prebuilt.list prebuiltlibs/
        echo "eng.buildbot.$(date '+%Y%m%d.%H%M%S')" > out/soong/build_number.txt
        mkdir -p external/compiler-rt/lib/cfi/ && curl 'https://android.googlesource.com/platform/external/compiler-rt/+/android12-gsi/lib/cfi/cfi_blocklist.txt?format=TEXT' | base64 -d > external/compiler-rt/lib/cfi/cfi_blocklist.txt
        mkdir -p out/soong/host/linux-x86/lib64/ && cp prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.17-4.8/sysroot/usr/lib/libncurses.so.5.9 out/soong/host/linux-x86/lib64/libncurses.so.5
        mkdir -p out/soong/host/linux-x86/lib64/ && cp prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.17-4.8/sysroot/usr/lib/libtinfo.so.5.9 out/soong/host/linux-x86/lib64/libtinfo.so.5
        $GITHUB_WORKSPACE/scripts/build13.sh
        df -h

    - uses: softprops/action-gh-release@master
      with:
        name: ${{ env.branch }}-13
        tag_name: ${{ env.branch }}-13
        files: |
          aosp/external_crosvm-13.tar.xz
          aosp/external_skia-13.tar.xz
          aosp/frameworks_av-13.tar.xz
          aosp/frameworks_native-13.tar.xz
          aosp/hardware_interfaces-13.tar.xz

    - name: Archive external_crosvm-13.tar.xz
      uses: actions/upload-artifact@v3
      with:
        name: external_crosvm-13.tar.xz
        path: aosp/external_crosvm-13.tar.xz

    - name: Archive external_skia-13.tar.xz
      uses: actions/upload-artifact@v3
      with:
        name: external_skia-13.tar.xz
        path: aosp/external_skia-13.tar.xz

    - name: Archive frameworks_av-13.tar.xz
      uses: actions/upload-artifact@v3
      with:
        name: frameworks_av-13.tar.xz
        path: aosp/frameworks_av-13.tar.xz

    - name: Archive frameworks_native-13.tar.xz
      uses: actions/upload-artifact@v3
      with:
        name: frameworks_native-13.tar.xz
        path: aosp/frameworks_native-13.tar.xz

    - name: Archive hardware_interfaces-13.tar.xz
      uses: actions/upload-artifact@v3
      with:
        name: hardware_interfaces-13.tar.xz
        path: aosp/hardware_interfaces-13.tar.xz

    - name: Restore Cache external_crosvm-13.tar.xz
      id: external_crosvm-13
      uses: actions/cache@v3
      with:
        path: aosp/external_crosvm-13.tar.xz
        key: external_crosvm-13
        restore-keys: external_crosvm-13

    - name: Restore Cache external_skia-13.tar.xz
      id: external_skia-13
      uses: actions/cache@v3
      with:
        path: aosp/external_skia-13.tar.xz
        key: external_skia-13
        restore-keys: external_skia-13

    - name: Restore Cache frameworks_av-13.tar.xz
      id: frameworks_av-13
      uses: actions/cache@v3
      with:
        path: aosp/frameworks_av-13.tar.xz
        key: frameworks_av-13
        restore-keys: frameworks_av-13

    - name: Restore Cache frameworks_native-13.tar.xz
      id: frameworks_native-13
      uses: actions/cache@v3
      with:
        path: aosp/frameworks_native-13.tar.xz
        key: frameworks_native-13
        restore-keys: frameworks_native-13

    - name: Restore Cache hardware_interfaces-13.tar.xz
      id: hardware_interfaces-13
      uses: actions/cache@v3
      with:
        path: aosp/hardware_interfaces-13.tar.xz
        key: hardware_interfaces-13
        restore-keys: hardware_interfaces-13